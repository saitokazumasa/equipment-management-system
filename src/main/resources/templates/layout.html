<!DOCTYPE html>
<html lang="ja">
<th:block th:fragment="head(title)">
    <head>
        <meta charset="UTF-8">
        <title th:text="${title}">タイトル</title>
        <link rel="stylesheet" type="text/css" href="/css/tailwind.css">
        <link rel="stylesheet" type="text/css" href="/css/common.css">
    </head>
</th:block>
<body>

<th:block th:fragment="message(category, content)">
    <div class="absolute left-1/2 flex justify-center items-center pl-4 pr-6 py-3 font-semibold rounded-xl bg-white shadow-lg"
         style="transform: translate(-50%, 0);">

        <th:block th:if="${category} == 'SUCCESS'">
            <div class="flex justify-center items-center bg-success rounded-full w-9 h-9">
                <img src="/images/check-icon.png" alt="チェックアイコン" class="w-3/5 h-3/5">
            </div>
        </th:block>
        <!-- TODO: アイコンを置き換える -->
        <th:block th:if="${category} == 'ERROR'">
            <div class="flex justify-center items-center bg-error rounded-full w-9 h-9">
                <img src="/images/check-icon.png" alt="バツアイコン" class="w-3/5 h-3/5">
            </div>
        </th:block>
        <span class="ml-2" th:text="${content}">メッセージ</span>
    </div>
</th:block>

<th:block th:fragment="header">
    <header class="w-10/12 h-9 flex justify-between items-center mx-auto mt-3 mb-5">
        <a href="#" sec:authorize="isAnonymous()" class="text-primary underline">返却はこちら</a>

        <a href="#" sec:authorize="isAuthenticated()" class="w-fit h-fit">
            <div class="w-9 h-2 rounded-full bg-secondary"></div>
            <div class="w-9 h-2 mt-1 rounded-full bg-secondary"></div>
            <div class="w-9 h-2 mt-1 rounded-full bg-secondary"></div>
        </a>

        <div sec:authorize="isAuthenticated()">
            <a href="#" class="flex justify-center items-center" id="account-icon">
                <span class="text-gray" th:text="${username}">アカウント名</span>
                <div class="flex justify-center items-center ml-2 bg-secondary rounded-full w-9 h-9">
                    <img src="/images/account-icon.png" alt="アカウントアイコン" class="w-3/5 h-3/5">
                </div>
            </a>

            <ul class="absolute px-2 py-1 text-nowrap border-2 border-gray bg-white" id="account-menu"
                style="transform: translate(-100%, 0);" hidden>
                <li>
                    <a href="#" class="text-primary">マイアカウント</a>
                </li>
                <li>
                    <form th:action="@{/logout}" method="post">
                        <button type="submit" class="text-primary">ログアウト</button>
                    </form>
                </li>
            </ul>
        </div>
    </header>
</th:block>
</body>
</html>
<th:block th:fragment="scripts">
    <script src="/js/common.js"></script>
</th:block>