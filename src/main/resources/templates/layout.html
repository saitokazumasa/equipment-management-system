<!DOCTYPE html>
<html lang="ja">
<th:block th:fragment="head(title)">
    <head>
        <meta charset="UTF-8">
        <title th:text="${title}">タイトル</title>
        <link rel="stylesheet" type="text/css" href="/css/tailwind.css">
        <link rel="stylesheet" type="text/css" href="/css/common.css">
    </head>
</th:block>
<body>

<th:block th:fragment="message(category, content)">
    <div class="absolute left-1/2 flex justify-center items-center pl-4 pr-6 py-3 font-semibold rounded-xl bg-white shadow-lg"
         style="transform: translate(-50%, 0);">

        <th:block th:if="${category} == 'SUCCESS'">
            <div class="flex justify-center items-center bg-success rounded-full w-9 h-9">
                <img src="/images/check-icon.png" alt="チェックアイコン" class="w-3/5 h-3/5">
            </div>
        </th:block>
        <!-- TODO: アイコンを置き換える -->
        <th:block th:if="${category} == 'ERROR'">
            <div class="flex justify-center items-center bg-error rounded-full w-9 h-9">
                <img src="/images/check-icon.png" alt="バツアイコン" class="w-3/5 h-3/5">
            </div>
        </th:block>
        <span class="ml-2" th:text="${content}">メッセージ</span>
    </div>
</th:block>

<th:block th:fragment="header">
    <header class="w-10/12 h-9 flex justify-between items-center mx-auto mt-3 mb-5">
        <a href="#" sec:authorize="isAnonymous()" class="text-primary underline">返却はこちら</a>

        <button sec:authorize="isAuthenticated()" class="w-fit h-fit" id="menu-open-button">
            <div class="w-9 h-2 rounded-full bg-secondary"></div>
            <div class="w-9 h-2 mt-1 rounded-full bg-secondary"></div>
            <div class="w-9 h-2 mt-1 rounded-full bg-secondary"></div>
        </button>

        <div sec:authorize="isAuthenticated()">
            <a class="flex justify-center items-center">
                <span class="text-gray" th:text="${mail}">xxx@mail.com</span>
                <div class="flex justify-center items-center ml-2 bg-secondary rounded-full w-9 h-9">
                    <img src="/images/account-icon.png" alt="アカウントアイコン" class="w-3/5 h-3/5">
                </div>
            </a>
        </div>

        <div class="absolute top-0 left-0 w-screen h-screen bg-white" id="menu" hidden>
            <div class="w-10/12 mx-auto mt-3">
                <button class="w-9 h-9" id="menu-close-button">
                    <div class="relative top-1 w-9 h-2 rounded-full bg-secondary" style="transform: rotate(45deg);"></div>
                    <div class="relative bottom-1 w-9 h-2 rounded-full bg-secondary" style="transform: rotate(-45deg);"></div>
                </button>

                <div>
                    <a class="block mt-3 py-5 text-center text-primary text-4xl font-bold border-2 border-primary">借りる</a>
                    <a class="block mt-3 py-5 text-center text-primary text-4xl font-bold border-2 border-primary">返す</a>
                    <a class="block mt-10 py-5 text-center text-primary text-3xl font-bold border-2 border-primary">備品一覧</a>
                    <a class="block mt-3 py-5 text-center text-primary text-3xl font-bold border-2 border-primary">備品登録</a>
                    <a class="block mt-3 py-5 text-center text-primary text-3xl font-bold border-2 border-primary">アカウント一覧</a>
                    <a class="block mt-3 py-5 text-center text-primary text-3xl font-bold border-2 border-primary">アカウント登録</a>
                    <form th:action="@{/logout}" method="post">
                        <button type="submit" class="block w-full mt-10 py-5 text-center text-error text-3xl font-bold border-2 border-error">ログアウト</button>
                    </form>
                </div>
            </div>
        </div>
    </header>
</th:block>
</body>
</html>
<th:block th:fragment="scripts">
    <script src="/js/common.js"></script>
</th:block>